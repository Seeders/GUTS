<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUTS Editor</title>
    <script src="library/codemirror.core.min.js" type="text/javascript"></script>
    <script src="library/codemirror.js.min.js" type="text/javascript"></script>
    <script src="library/codemirror.showhint.min.js" type="text/javascript"></script>
    <script src="library/codemirror.hint.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="style/editor.css" />
    <link rel="stylesheet" href="style/levelEditor.css" />
    <link rel="stylesheet" href="library/codemirror.css" />
    <style id="theme_style"></style>
</head>
<body class="loading">
    <div id="container">
        <div class="sidebar">
            <img src="./logo.png" />

            <div class="project-selector-container" style="display: flex; flex-direction: column; align-items: start;">
                <select id="project-selector">
                  <!-- Options will be populated by JavaScript -->
                  <option value="__create_new__">+ Create New Project</option>
                </select>  
                <button id="launch-game-btn" class="primary">Launch Project</button>                    
            </div>            
            <div class="object-list" id="object-list">
                <!-- Object list will be dynamically populated -->
            </div>
            <div class="sidebar-actions">
                <button class="primary" id="add-object-btn">Add New Object</button>
                
                <button id="delete-project-btn" class="danger hidden" title="Delete current project">delete project</button>     
            </div>
        </div>
        
        <div class="main-content">
            <div id="main-content-container">

            </div>    
            <button id="toggleEditorButton" style="display:none">drag</button>
            <div class="editor full-height" id="editor">      
                <div class="instructions">
                    Select a tower from the sidebar or create a new one to start editing.
                </div>        
                <!-- Editor form will be dynamically populated -->
            </div>
        </div>
    </div>
    <div id="modals">
        <div id="new-project-modal" class="modal">
            <div class="modal-content">
              <h2>Create New Project</h2>
              <div class="form-group">
                <label for="new-project-name">Project Name:</label>
                <input type="text" id="new-project-name" placeholder="My Awesome Game">
              </div>
              <div class="actions">
                <button id="create-project-btn" class="primary">Create</button>
                <button id="cancel-project-btn">Cancel</button>
              </div>
            </div>
          </div>
        <!-- Import/Export Modal -->  
        <div class="modal" id="new-object-modal">
            <div class="modal-content">
                <h2>Create New Object</h2>
                <div class="form-group">
                    <label for="new-object-id">Object ID:</label>
                    <input type="text" id="new-object-id" placeholder="e.g. fireTower">
                </div>
                <div class="form-group">
                    <label for="new-object-name">Display Name:</label>
                    <input type="text" id="new-object-name" placeholder="e.g. Fire Tower">
                </div>
                <div class="actions">
                    <button class="primary" id="create-object-btn">Create Tower</button>
                    <button id="close-new-object-modal">Cancel</button>
                </div>
            </div>
        </div>
        <div class="modal" id="duplicate-object-modal">
            <div class="modal-content">
                <h2>Create Duplicate Object</h2>
                <div class="form-group">
                    <label for="duplicate-object-id">Object ID:</label>
                    <input type="text" id="duplicate-object-id" placeholder="e.g. fireTower">
                </div>
                <div class="form-group">
                    <label for="duplicate-object-name">Display Name:</label>
                    <input type="text" id="duplicate-object-name" placeholder="e.g. Fire Tower">
                </div>
                <div class="actions">
                    <button class="primary" id="create-duplicate-object-btn">Duplicate Object</button>
                    <button id="close-duplicate-object-modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <script src="engine/EditorController.js" type="module" ></script>
    
</body>
</html>