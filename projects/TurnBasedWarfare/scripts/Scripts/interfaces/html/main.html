<!-- Main Menu Screen -->
<div id="mainMenu" class="screen active">
    <div class="game-title">AUTO BATTLE ARENA</div>
    <div class="subtitle">Tactical Combat Meets AI Strategy</div>
    <div class="main-menu-buttons">
        <button id="mainMenu_PlayGameBtn" class="btn">üéÆ PLAY GAME</button>
        <button id="mainMenu_TutorialBtn" class="btn btn-secondary">üìö TUTORIAL</button>
        <button id="mainMenu_SettingsBtn" class="btn btn-secondary">‚öôÔ∏è SETTINGS</button>
        <button id="mainMenu_CreditsBtn" class="btn btn-secondary">üë• CREDITS</button>
    </div>
</div>

<!-- Game Mode Selection Screen -->
<div id="gameModeSelect" class="screen">
    <div class="mode-selection">
        <h2>üéØ SELECT GAME MODE</h2>
        <div class="mode-grid" id="modeGrid">
            <!-- Game mode cards populated by GameModeManager -->
        </div>
        <div>
            <button id="gameMode_StartBtn" class="btn">üöÄ START BATTLE</button>
            <button id="gameMode_BackBtn" class="btn btn-secondary">‚Üê BACK</button>
        </div>
    </div>
</div>

<div id="multiplayerLobby" class="screen">
    <div class="multiplayer-lobby-container">
        <div class="lobby-header">
            <h1 class="lobby-title">üéÆ MULTIPLAYER LOBBY</h1>
            <div class="room-info">
                <div class="room-id-display">
                    <span class="room-label">Room ID:</span>
                    <span id="lobbyRoomId" class="room-id">------</span>
                    <button id="copyRoomIdBtn" class="btn-small">üìã Copy</button>
                </div>
                <div class="connection-status">
                    <span id="connectionStatus" class="status-indicator">üî¥ Connecting...</span>
                </div>
            </div>
        </div>

        <div class="lobby-content">
            <div class="players-section">
                <h2>üë• Players (<span id="playerCount">1</span>/2)</h2>
                <div class="players-grid">
                    <div class="player-card player-1">
                        <div class="player-avatar">üë§</div>
                        <div class="player-info">
                            <div class="player-name" id="player1Name">You</div>
                            <div class="player-stats">
                                <div class="stat">
                                    <span class="stat-label">Ready:</span>
                                    <span id="player1Ready" class="ready-status">‚åõ Not Ready</span>
                                </div>
                            </div>
                        </div>
                        <div class="player-controls">
                            <button id="player1ReadyBtn" class="btn ready-btn">‚úÖ READY UP</button>
                        </div>
                    </div>

                    <div class="player-card player-2">
                        <div class="player-avatar">‚ùì</div>
                        <div class="player-info">
                            <div class="player-name" id="player2Name">Waiting for opponent...</div>
                            <div class="player-stats">
                                <div class="stat">
                                    <span class="stat-label">Ready:</span>
                                    <span id="player2Ready" class="ready-status">‚è≥ Waiting</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lobby-status">
                <div class="status-message" id="lobbyStatusMessage">
                    Waiting for another player to join...
                </div>
                <div class="game-progress" id="gameProgress" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">Starting game...</div>
                </div>
            </div>

            <div class="game-info">
                <h3>üéØ Game Setup</h3>
                <div class="game-settings">
                    <div class="setting">
                        <span class="setting-label">Mode:</span>
                        <span class="setting-value" id="gameMode">1v1 Multiplayer</span>
                    </div>
                    <div class="setting">
                        <span class="setting-label">Max Rounds:</span>
                        <span class="setting-value" id="maxRounds">5</span>
                    </div>
                    <div class="setting">
                        <span class="setting-label">Starting Gold:</span>
                        <span class="setting-value" id="startingGold">100</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="lobby-footer">
            <div class="lobby-controls">
                <button id="leaveLobbyBtn" class="btn btn-secondary">üö™ LEAVE LOBBY</button>
                <button id="startGameBtn" class="btn btn-primary" disabled>üöÄ START GAME</button>
            </div>
            <div class="lobby-tips">
                <p>üí° <strong>Tip:</strong> Both players must be ready before the game can start!</p>
                <p>üîó Share the Room ID with your friend to invite them to this lobby.</p>
            </div>
        </div>
    </div>
</div>

<!-- Loading Screen -->
<div id="loadingScreen" class="screen">
    <div class="loading-content">
        <div class="loading-spinner"></div>
        <div class="loading-text">Initializing Battle Systems...</div>
        <div class="loading-tip">Tip: Each unit type has unique strengths and weaknesses. Experiment with different combinations!</div>
    </div>
</div>

<!-- Single Game Screen - Used for Both Single Player and Multiplayer -->
<div id="gameScreen" class="screen">
    <div id="gameContainer">
        <div id="canvasContainer">
            <canvas id="gameCanvas"></canvas>
            
            <!-- Opponent Info Overlay - Only shown in multiplayer mode -->
            <div id="opponentOverlay" class="opponent-overlay" style="display: none;">
                <div class="opponent-info-card">
                    <h4>üéØ Opponent</h4>
                    <div class="opponent-details">
                        <div class="opponent-name">
                            <span class="label">Name:</span>
                            <span id="opponentNameGame">-</span>
                        </div>
                        <div class="opponent-health">
                            <span class="label">Health:</span>
                            <span id="opponentHealthGame">100</span>/100
                        </div>
                        <div class="opponent-gold">
                            <span class="label">Gold:</span>
                            <span id="opponentGoldGame">-</span>
                        </div>
                        <div class="opponent-status">
                            <span class="label">Status:</span>
                            <span id="opponentStatusGame" class="status-deploying">üó°Ô∏è Deploying</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="uiContainer">
            <div class="player-panel">
                <h3 class="panel-title">üõ°Ô∏è YOUR ARMY</h3>
                
                <!-- Resources - shows different info based on mode -->
                <div class="resources" id="gameResources">
                    <!-- Single player mode shows just gold -->
                    <div id="singlePlayerResources">
                        Gold: <span id="playerGold">100</span>g
                    </div>
                    
                    <!-- Multiplayer mode shows gold and health -->
                    <div id="multiplayerResources" style="display: none;">
                        <div class="resource-item">
                            <span class="resource-label">Gold:</span>
                            <span id="multiplayerPlayerGold" class="resource-value">100</span>g
                        </div>
                        <div class="resource-item">
                            <span class="resource-label">Health:</span>
                            <span id="multiplayerPlayerHealth" class="resource-value">100</span>/100
                        </div>
                    </div>
                </div>
                
                <div class="unit-shop" id="unitShop">
                    <!-- Unit cards populated by game -->
                </div>
                
                <!-- Dynamic ready button - changes based on mode -->
                <button id="placementReadyBtn" class="btn">Ready for Battle!</button>
                
                <!-- Squad count display - for multiplayer -->
                <div id="squadCountContainer" style="display: none;">
                    <div class="squad-info">
                        <span id="squadCount">2/2 squads left</span>
                    </div>
                </div>
                
                <div class="army-list" id="playerArmy">
                    <!-- Player army units -->
                </div>
            </div>
            
            <!-- Game controls -->
            <div class="game-controls">
                <button id="game_PauseBtn" class="btn btn-danger">‚è∏Ô∏è PAUSE</button>
                <button id="game_ExitBtn" class="btn btn-secondary">üö™ EXIT</button>
            </div>
        </div>
        
        <!-- Phase info - shows different content based on mode -->
        <div class="phase-info">
            <!-- Single player phase info -->
            <div id="singlePlayerPhaseInfo">
                <div class="round-info">Round <span id="roundNumber">1</span></div>
                <div class="phase-title" id="phaseTitle">PLACEMENT PHASE</div>
                <div class="phase-timer" id="phaseTimer">30s</div>
            </div>
            
            <!-- Multiplayer phase info -->
            <div id="multiplayerPhaseInfo" style="display: none;">
                <div class="phase-header">
                    <div class="round-info">Round <span id="multiplayerRoundNumber">1</span></div>
                    <div class="versus-info">
                        <span class="player-indicator">You</span>
                        <span class="vs">VS</span>
                        <span class="opponent-indicator" id="opponentIndicator">Opponent</span>
                    </div>
                </div>
                <div class="phase-title" id="multiplayerPhaseTitle">PLACEMENT PHASE</div>
                <div class="phase-status" id="multiplayerPhaseStatus">Deploy your units and get ready!</div>
                <div class="phase-timer" id="multiplayerPhaseTimer">‚àû</div>
            </div>
        </div>
    </div>
</div>

<!-- Victory Screen -->
<div id="victoryScreen" class="screen">
    <div class="result-content">
        <div class="result-title victory-title">üéâ VICTORY! üéâ</div>
        <div class="stats-grid" id="victoryStats">
            <!-- Stats populated by ResultsManager -->
        </div>
        <div>
            <button id="victory_NextRoundBtn" class="btn">‚öîÔ∏è NEXT ROUND</button>
            <button id="victory_RestartBtn" class="btn btn-secondary">üîÑ RESTART</button>
            <button id="victory_MainMenuBtn" class="btn btn-secondary">üè† MAIN MENU</button>
        </div>
    </div>
</div>

<!-- Defeat Screen -->
<div id="defeatScreen" class="screen">
    <div class="result-content">
        <div class="result-title defeat-title">üíÄ DEFEAT üíÄ</div>
        <div class="stats-grid" id="defeatStats">
            <!-- Stats populated by ResultsManager -->
        </div>
        <div>
            <button id="defeat_RetryBtn" class="btn">‚ö° RETRY</button>
            <button id="defeat_ChangeModeBtn" class="btn btn-secondary">üéØ CHANGE MODE</button>
            <button id="defeat_MainMenuBtn" class="btn btn-secondary">üè† MAIN MENU</button>
        </div>
    </div>
</div>

<!-- Pause Menu (Overlay) -->
<div id="pauseMenu" class="pause-overlay">
    <div class="pause-content">
        <h2>‚è∏Ô∏è GAME PAUSED</h2>
        <button id="paused_ResumeBtn" class="btn">‚ñ∂Ô∏è RESUME</button>
        <button id="paused_RestartBtn" class="btn btn-secondary">üîÑ RESTART</button>
        <button id="paused_MainMenuBtn" class="btn btn-secondary">üè† MAIN MENU</button>
    </div>
</div>