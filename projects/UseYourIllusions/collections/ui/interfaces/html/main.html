<!-- Main Menu Screen -->
<div id="mainMenu" class="screen">
    <div class="menu-background">
        <div class="magic-particles"></div>
    </div>
    <div class="menu-content">
        <div class="game-title">USE YOUR ILLUSIONS</div>
        <div class="subtitle">Master the Art of Deception</div>
        <div class="main-menu-buttons">
            <button id="mainMenu_PlayGameBtn" class="btn btn-primary">PLAY</button>
            <button id="mainMenu_SettingsBtn" class="btn btn-secondary">SETTINGS</button>
        </div>
        <div class="menu-footer">
            <p class="controls-hint">WASD to move • Q to copy item • E to interact • R to swap to clone • 1-2-3 to activate copied item • Left-click to place illusion</p>
        </div>
    </div>
</div>

<!-- Intro Story Screen -->
<div id="introStory" class="screen">
    <div class="menu-background">
        <div class="magic-particles"></div>
    </div>
    <div class="intro-story-content">
        <div class="story-scroll">
            <h2 class="story-title">The Wizard's Secret</h2>
            <div class="story-text">
                <p>Deep within an ancient forest, a powerful wizard has sealed himself away from the world. He alone possesses the forbidden knowledge that could save all of humanity from the coming darkness.</p>
                <p>But the King's soldiers have learned of this secret. They march now toward the tower, intent on seizing this power for themselves. In their hands, such knowledge would bring only tyranny and destruction.</p>
                <p>The wizard foresaw this day. He has prepared a series of trials — tests of cunning and illusion — that only the truly worthy may pass. Those who prove themselves will inherit his wisdom. All others will find only locked doors and endless corridors.</p>
                <p>You may find some of the wizard's belongings along the way. Master the art of illusion, evade the soldiers, and prove yourself worthy of the wizard's secret.</p>
            </div>
            <button id="introStory_ContinueBtn" class="btn btn-primary">Begin Your Journey</button>
        </div>
    </div>
</div>

<!-- Level Select Screen -->
<div id="levelSelect" class="screen">
    <div class="level-select-wrapper">
        <div class="level-select-header">
            <button id="levelSelect_BackBtn" class="btn btn-back">← Back</button>
            <h1 class="level-select-title">Select Mission</h1>
            <div class="header-spacer"></div>
        </div>

        <div class="level-select-content">
            <div id="levelGrid" class="level-grid">
                <!-- Level cards populated by PuzzleLobbyUISystem -->
            </div>
        </div>

        <div class="level-select-footer">
            <div class="selected-level-info" id="selectedLevelInfo">
                <span class="level-info-hint">Select a mission to begin</span>
            </div>
        </div>
    </div>
</div>

<!-- Settings Overlay (shared with game scene) -->
<div id="settingsOverlay" class="pause-overlay">
    <div class="pause-content settings-content-panel">
        <h2>SETTINGS</h2>

        <div class="volume-settings">
            <div class="volume-row">
                <label for="masterVolumeSlider">Master</label>
                <input type="range" id="masterVolumeSlider" class="volume-slider" min="0" max="100" value="100">
                <span class="volume-value" id="masterVolumeValue">100%</span>
            </div>
            <div class="volume-row">
                <label for="musicVolumeSlider">Music</label>
                <input type="range" id="musicVolumeSlider" class="volume-slider" min="0" max="100" value="100">
                <span class="volume-value" id="musicVolumeValue">100%</span>
            </div>
            <div class="volume-row">
                <label for="sfxVolumeSlider">SFX</label>
                <input type="range" id="sfxVolumeSlider" class="volume-slider" min="0" max="100" value="100">
                <span class="volume-value" id="sfxVolumeValue">100%</span>
            </div>
        </div>

        <div class="controls-section">
            <h3>Controls</h3>
            <div class="controls-info">
                <div class="control-row"><span class="key">W A S D</span><span>Move</span></div>
                <div class="control-row"><span class="key">Q</span><span>Copy Item</span></div>
                <div class="control-row"><span class="key">E</span><span>Interact</span></div>                
                <div class="control-row"><span class="key">R</span><span>Swap with Clone</span></div>
                <div class="control-row"><span class="key">1 2 3</span><span>Select slot</span></div>
                <div class="control-row"><span class="key">Left Click</span><span>Place illusion</span></div>
                <div class="control-row"><span class="key">ESC</span><span>Pause / Back</span></div>
            </div>
        </div>

        <button id="settingsBackBtn" class="btn btn-primary">Back</button>
    </div>
</div>

<!-- Loading Screen -->
<div id="loadingScreen" class="screen active" style="display:flex;position:absolute;top:0;left:0;width:100%;height:100vh;z-index:9999;background:#0a0a1a;justify-content:center;align-items:center;">
    <div class="loading-content">
        <div class="loading-spinner"></div>
        <div class="loading-text" id="loadingText">Loading...</div>
        <div class="loading-progress-container">
            <div class="loading-progress-bar" id="loadingProgressBar"></div>
        </div>
        <div class="loading-progress-text" id="loadingProgressText">0%</div>
        <div class="loading-tip">Tip: Illusions can block guards vision while you slip past.</div>
    </div>
</div>
