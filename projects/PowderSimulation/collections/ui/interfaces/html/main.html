<!-- 3D Powder Simulation -->
<div id="gameScreen" class="screen active">
    <div id="gameContainer">
        <div id="canvasContainer">
            <canvas id="gameCanvas"></canvas>
        </div>

        <!-- Toggle UI Button -->
        <button id="toggleUIBtn" title="Toggle UI Panel">Menu</button>

        <!-- Tool Palette -->
        <div id="toolPalette">
            <div class="panel-title">3D Powder Simulation</div>

            <div class="section-title">Materials</div>
            <div class="material-grid">
                <div class="material-btn" data-material="sand" title="Sand">
                    <div class="material-swatch sand"></div>
                    <span>Sand</span>
                </div>
                <div class="material-btn" data-material="water" title="Water">
                    <div class="material-swatch water"></div>
                    <span>Water</span>
                </div>
                <div class="material-btn" data-material="stone" title="Stone">
                    <div class="material-swatch stone"></div>
                    <span>Stone</span>
                </div>
                <div class="material-btn" data-material="wood" title="Wood">
                    <div class="material-swatch wood"></div>
                    <span>Wood</span>
                </div>
                <div class="material-btn" data-material="fire" title="Fire">
                    <div class="material-swatch fire"></div>
                    <span>Fire</span>
                </div>
                <div class="material-btn" data-material="erase" title="Erase">
                    <div class="material-swatch erase"></div>
                    <span>Erase</span>
                </div>
            </div>

            <div class="section-title">Brush</div>
            <div class="control-group">
                <label for="brushSize">Size: <span id="brushSizeValue">3</span></label>
                <input type="range" id="brushSize" min="1" max="15" value="3">
            </div>

            <div class="section-title">Simulation</div>
            <div class="control-group">
                <label for="simSpeed">Speed: <span id="simSpeedValue">1.0x</span></label>
                <input type="range" id="simSpeed" min="0" max="3" step="0.25" value="1">
            </div>
            <div class="control-group">
                <button id="pauseBtn">Pause</button>
            </div>

            <div class="section-title">Emitters</div>
            <div class="control-group">
                <button id="createEmitterBtn">Create Emitter</button>
            </div>
            <div class="control-group">
                <button id="deleteEmitterBtn" disabled>Delete Emitter</button>
            </div>

            <div class="section-title">Shapes</div>
            <div class="shape-grid">
                <button class="shape-btn" data-shape="cylinder" title="Hollow Cylinder">Cylinder</button>
                <button class="shape-btn" data-shape="box" title="Hollow Box">Box</button>
                <button class="shape-btn" data-shape="sphere" title="Solid Sphere">Sphere</button>
                <button class="shape-btn" data-shape="platform" title="Flat Platform">Platform</button>
            </div>

            <div class="section-title">Actions</div>
            <div class="control-group">
                <button id="clearAll">Clear All</button>
            </div>

            <div class="section-title">Stats</div>
            <div class="stats-group">
                <div>Active: <span id="activeCount">0</span></div>
                <div>Settled: <span id="settledCount">0</span></div>
                <div>FPS: <span id="fpsDisplay">0</span></div>
            </div>

            <div class="help-text">
                <strong>Controls:</strong><br>
                Left-click: Spawn/Place<br>
                Right-drag: Rotate camera<br>
                Middle-drag: Pan camera<br>
                Scroll: Zoom<br>
                <br>
                <strong>Emitters:</strong><br>
                Click emitter: Select<br>
                Drag gizmo arrows: Move<br>
                Double-click: Toggle on/off<br>
                Delete/Backspace: Remove<br>
                Click elsewhere/Esc: Deselect
            </div>
        </div>
    </div>
</div>
